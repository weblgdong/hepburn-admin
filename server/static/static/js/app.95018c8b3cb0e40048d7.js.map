{"version":3,"sources":["webpack:///./src/utils/auth.js","webpack:///./src/App.vue?a529","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///src/components/login/index.vue","webpack:///./src/components/login/index.vue?15d6","webpack:///./src/components/login/index.vue","webpack:///./src/components/home.vue?ac6a","webpack:///./src/components/home.vue","webpack:///src/components/layout/layout.vue","webpack:///./src/components/layout/layout.vue?b0a8","webpack:///./src/components/layout/layout.vue","webpack:///./src/router/index.js","webpack:///./src/utils/request.js","webpack:///./src/store/actions.js","webpack:///./src/api/login.js","webpack:///./src/store/getters.js","webpack:///./src/store/state.js","webpack:///./src/store/mutations.js","webpack:///./src/store/mutation-types.js","webpack:///./src/store/index.js","webpack:///./src/permission.js","webpack:///./src/main.js"],"names":["getToken","js_cookie_default","a","get","TokenKey","selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","login","callback","methods","extends_default","Object","vuex_esm","_this","$store","components_login","_vm","staticClass","ref","autoComplete","model","loginForm","rules","loginRules","label-position","_v","prop","name","type","placeholder","value","$$v","$set","expression","pwdType","nativeOn","keyup","$event","_k","keyCode","key","handleLogin","on","click","showPwd","staticStyle","width","margin-bottom","loading","preventDefault","src_components_login","login_normalizeComponent","components_home","src_components_home","home_normalizeComponent","layout","getAllData","computed","_this2","_id","then","address","response","catch","error","data","layout_layout","text-align","font-size","_s","directives","rawName","tableData","label","scopedSlots","_u","fn","scope","src","row","avatarUrl","height","margin-left","nickName","size","handleDelete","$index","components_layout_layout","layout_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","redirect","component","service","axios_default","create","baseURL","NODE_ENV","BASE_API","timeout","interceptors","request","config","store","getters","token","headers","console","log","promise_default","reject","element_ui_common","message","duration","actions_GetUserInfo","_ref","commit","state","resolve","url","method","params","getUserInfo","status","Error","username","actions_LoginByUsername","_ref2","userInfo","trim","password","loginByUsername","set","setToken","actions_FedLogOut","_ref3","remove","getters_name","store_state","store_mutations","mutations","defineProperty_default","_mutations","Store","actions","actions_namespaceObject","getters_namespaceObject","strict","plugins","whiteList","beforeEach","to","form","next","dispatch","res","indexOf","element_ui_common_default","productionTip","el","template","components","App"],"mappings":"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","file":"static/js/app.95018c8b3cb0e40048d7.js","sourcesContent":["import Cookies from 'js-cookie'\n\nconst TokenKey = 'Admin-Token'\n\nexport function getToken() {\n  return Cookies.get(TokenKey)\n}\n\nexport function setToken(token) {\n  return Cookies.set(TokenKey, token)\n}\n\nexport function removeToken() {\n  return Cookies.remove(TokenKey)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/auth.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2a79430e\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2a79430e\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2a79430e\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style>\n#app {\n  width:100%;\n  height:100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","<template>\n  <div class=\"login-container\">\n    <el-form class=\"card-box login-form\" autoComplete=\"on\" :model=\"loginForm\" :rules=\"loginRules\" ref=\"loginForm\"\n             label-position=\"left\">\n      <h3 class=\"title\">系统登录</h3>\n\n      <el-form-item prop=\"username\">\n        <span class=\"svg-container svg-container_login\">\n          <i class=\"iconfont icon-user\"></i>\n        </span>\n        <el-input name=\"username\" type=\"text\" v-model=\"loginForm.username\" autoComplete=\"on\" placeholder=\"邮箱\"/>\n      </el-form-item>\n\n      <el-form-item prop=\"password\">\n        <span class=\"svg-container\">\n           <i class=\"iconfont icon-password\"></i>\n        </span>\n        <el-input name=\"password\" :type=\"pwdType\" @keyup.enter.native=\"handleLogin\" v-model=\"loginForm.password\"\n                  autoComplete=\"on\"\n                  placeholder=\"请输入密码\"/>\n        <span class=\"show-pwd\" @click=\"showPwd\"><i class=\"iconfont icon-eye\"></i></span>\n      </el-form-item>\n\n      <el-button type=\"primary\" style=\"width:100%;margin-bottom:30px;\" :loading=\"loading\"\n                 @click.native.prevent=\"handleLogin\">登录\n      </el-button>\n    </el-form>\n  </div>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import {mapMutations} from 'vuex'\n\n  export default {\n    data() {\n      const validateUsername = (rule, value, callback) => {\n        callback()\n      }\n      const validatePassword = (rule, value, callback) => {\n        if (value.length < 6) {\n          callback(new Error('密码不能小于6位'))\n        } else {\n          callback()\n        }\n      }\n      return {\n        loginForm: {\n          username: 'admin',\n          password: ''\n        },\n        loginRules: {\n          username: [{required: true, trigger: 'blur', validator: validateUsername}],\n          password: [{required: true, trigger: 'blur', validator: validatePassword}]\n        },\n        pwdType: 'password',\n        loading: false,\n        showDialog: false\n      }\n    },\n    methods: {\n      ...mapMutations({\n        setUserName: 'SET_USERNAME'\n      }),\n      showPwd() {\n        if (this.pwdType === 'password') {\n          this.pwdType = ''\n        } else {\n          this.pwdType = 'password'\n        }\n      },\n      handleLogin() {\n        this.$refs.loginForm.validate(valid => {\n          if (valid) {\n            valid = false\n            console.log(this.$store)\n            this.$store.dispatch('LoginByUsername', this.loginForm).then(() => {\n              this.loading = false\n              this.$router.push({path: '/'})\n              // this.showDialog = true\n            }).catch(() => {\n              this.loading = false\n            })\n          }\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .login-container\n    position: relative\n    height: 100vh\n    background-color: #2d3a4b\n    input:-webkit-autofill\n      -webkit-box-shadow: 0 0 0 1000px #293444 inset !important\n      -webkit-text-fill-color: #fff !important\n    input\n      background: transparent\n      border: 0\n      -webkit-appearance: none\n      border-radius: 0\n      padding: 12px 5px 12px 15px\n      color: #eee\n      height: 47px\n    .el-input\n      display: inline-block\n      height: 47px\n      width: 85%\n    .tips\n      font-size: 14px\n      color: #fff\n      margin-bottom: 10px\n\n    .svg-container\n      padding: 6px 5px 6px 15px\n      color: #889aa4\n      vertical-align: middle\n      width: 30px\n      text-align: center\n      display: inline-block\n\n    &_login\n      font-size: 20px\n\n    .title\n      font-size: 26px\n      color: #eee\n      margin: 0 auto 40px auto\n      text-align: center\n      font-weight: bold\n\n    .login-form\n      position: absolute\n      left: 50%\n      top: 40%\n      width: 370px\n      padding: 35px 35px 15px 35px\n      transform: translate(-50%, -50%);\n\n    .el-form-item\n      border: 1px solid rgba(255, 255, 255, 0.1)\n      background: rgba(0, 0, 0, 0.1)\n      border-radius: 5px\n      color: #454545\n\n    .show-pwd\n      position: absolute\n      right: 10px\n      top: 7px\n      font-size: 16px\n      color: #889aa4\n      cursor: pointer\n      user-select: none\n\n    .thirdparty-button\n      position: absolute\n      right: 35px\n      bottom: 28px\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-container\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"card-box login-form\",attrs:{\"autoComplete\":\"on\",\"model\":_vm.loginForm,\"rules\":_vm.loginRules,\"label-position\":\"left\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"系统登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('span',{staticClass:\"svg-container svg-container_login\"},[_c('i',{staticClass:\"iconfont icon-user\"})]),_vm._v(\" \"),_c('el-input',{attrs:{\"name\":\"username\",\"type\":\"text\",\"autoComplete\":\"on\",\"placeholder\":\"邮箱\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('span',{staticClass:\"svg-container\"},[_c('i',{staticClass:\"iconfont icon-password\"})]),_vm._v(\" \"),_c('el-input',{attrs:{\"name\":\"password\",\"type\":_vm.pwdType,\"autoComplete\":\"on\",\"placeholder\":\"请输入密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.handleLogin($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}}),_vm._v(\" \"),_c('span',{staticClass:\"show-pwd\",on:{\"click\":_vm.showPwd}},[_c('i',{staticClass:\"iconfont icon-eye\"})])],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"30px\"},attrs:{\"type\":\"primary\",\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.handleLogin($event)}}},[_vm._v(\"登录\\n    \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-c6b37cb6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-c6b37cb6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-c6b37cb6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/login/index.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"\\n  home\\n\")])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a643efd6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a643efd6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a643efd6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a643efd6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/home.vue\n// module id = null\n// module chunks = ","<template>\n  <el-container class=\"app-wrapper\">\n    <el-container>\n      <el-header style=\"text-align: right; font-size: 12px\">\n        <span>{{name}}</span>\n      </el-header>\n      <el-main>\n        <el-table\n          v-loading=\"loading\"\n          :data=\"tableData\"\n          style=\"width: 100%\">\n           <el-table-column\n            label=\"头像\"\n           width=\"300\">\n            <template slot-scope=\"scope\">\n              <img :src=\"scope.row.avatarUrl\" height=\"50px\"/>\n            </template>\n          </el-table-column>\n          <el-table-column\n            label=\"昵称\"\n            style=\"width: 50%\">\n            <template slot-scope=\"scope\">\n              <span style=\"margin-left: 10px\">{{ scope.row.nickName }}</span>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" width=\"150\">\n            <template slot-scope=\"scope\">\n              <el-button\n                size=\"mini\"\n                type=\"danger\"\n                @click=\"handleDelete(scope.$index, scope.row)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n<script type=\"text/ecmascript-6\">\n  import {mapGetters} from 'vuex'\n  import axios from 'axios'\n  export default {\n    data() {\n      return {\n       tableData: [],\n       loading: true\n      }\n    },\n    created() {\n      this.getAllData()\n    },\n    computed: {\n      ...mapGetters([\n        'name'\n      ])\n    },\n    methods: {\n      handleDelete(index, row) {\n        const _this = this\n        console.log(row._id)\n        this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          _this.removeVideo(row._id)\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        })\n      },\n      formatter (row, column) {\n        return row.address\n      },\n      removeVideo(id) {\n        const _this = this\n        axios.get('http://lgdong.cn/removeBlessing', {\n          params: {\n            id: id\n          }\n        })\n        .then(function (response) {\n          _this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n          _this.getAllData()\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n      },\n      getAllData() {\n        const _this = this\n        axios.post('http://lgdong.cn/allData')\n        .then(function (response) {\n          _this.loading = false\n          _this.tableData = response.data\n        })\n        .catch(function (error) {\n          console.log(error)\n        })\n      }\n    }\n  }\n</script>\n\n\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  @import \"~common/stylus/mixin\"\n  .app-wrapper\n    clearfix()\n    position: relative\n    height: 100%\n    width: 100%\n\n  .el-header\n    background-color: #B3C0D1\n    color: #333\n    line-height: 60px\n\n  .el-aside\n    color: #333\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/layout/layout.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"app-wrapper\"},[_c('el-container',[_c('el-header',{staticStyle:{\"text-align\":\"right\",\"font-size\":\"12px\"}},[_c('span',[_vm._v(_vm._s(_vm.name))])]),_vm._v(\" \"),_c('el-main',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"头像\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('img',{attrs:{\"src\":scope.row.avatarUrl,\"height\":\"50px\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"width\":\"50%\"},attrs:{\"label\":\"昵称\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(scope.row.nickName))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){_vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37e1e030\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/layout/layout.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37e1e030\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./layout.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./layout.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37e1e030\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./layout.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37e1e030\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/layout/layout.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Login from 'src/components/login/index'\nimport Home from 'src/components/home'\nimport Dashboard from 'src/components/layout/layout'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      redirect: '/dashboard'\n    },\n    {\n      path: '/login',\n      component: Login\n    },\n    {\n      path: '/index',\n      component: Home\n    },\n    {\n      path: '/dashboard',\n      component: Dashboard\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import axios from 'axios'\nimport store from 'src/store'\nimport { Message } from 'element-ui'\nimport {getToken} from 'src/utils/auth'\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: process.env.BASE_API, // api的base_url\n  timeout: 5000 // 请求超时时间\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n  // Do something before request is sent\n  if (store.getters.token) {\n    config.headers['X-Token'] = getToken() // 让每个请求携带token--['X-Token']为自定义key 请根据实际情况自行修改\n  }\n  return config\n}, error => {\n  // Do something with request error\n  console.log(error) // for debug\n  Promise.reject(error)\n})\n\n// respone拦截器\nservice.interceptors.response.use(\n  response => response,\n  error => {\n    console.log('err' + error)// for debug\n    Message({\n      message: error.message,\n      type: 'error',\n      duration: 5 * 1000\n    })\n    return Promise.reject(error)\n  })\n\nexport default service\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js","import {getUserInfo, loginByUsername} from 'src/api/login'\nimport {getToken, setToken, removeToken} from 'src/utils/auth'\n\nexport const GetUserInfo = function ({commit, state}) {\n  return new Promise((resolve, reject) => {\n    getUserInfo(getToken()).then(response => {\n      if (!response.data.status) { // 由于mockjs 不支持自定义状态码只能这样hack\n        reject(new Error('something bad happened'))\n      }\n      const data = response.data\n      commit('SET_NAME', data.username)\n      resolve(response)\n    }).catch(error => {\n      reject(error)\n    })\n  })\n}\n\nexport const LoginByUsername = function ({commit}, userInfo) {\n  const username = userInfo.username.trim()\n  return new Promise((resolve, reject) => {\n    loginByUsername(username, userInfo.password).then(response => {\n      const data = response.data\n      commit('SET_TOKEN', data.token)\n      setToken(response.data.token)\n      resolve()\n    }).catch(error => {\n      reject(error)\n    })\n  })\n}\n\nexport const FedLogOut = function ({commit}) {\n  return new Promise(resolve => {\n    commit('SET_TOKEN', '')\n    removeToken()\n    resolve()\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import request from 'src/utils/request'\n\nexport function loginByUsername(username, password) {\n  const data = {\n    username,\n    password\n  }\n  return request({\n    url: 'http://localhost:3000/admin/login',\n    method: 'post',\n    data\n  })\n}\n\nexport function getUserInfo(token) {\n  console.log('token', token)\n  return request({\n    url: 'http://localhost:3000/admin/vToken',\n    method: 'get',\n    params: {token}\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/login.js","export const name = state => state.name\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/getters.js","const state = {\n  name: '',\n  token: ''\n}\nexport default state\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/state.js","import * as types from './mutation-types'\n\nconst mutations = {\n  [types.SET_NAME](state, name) {\n    state.name = name\n  },\n  [types.SET_TOKEN](state, token) {\n    state.token = token\n  }\n}\n\nexport default mutations\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","export const SET_NAME = 'SET_NAME'\nexport const SET_TOKEN = 'SET_TOKEN'\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutation-types.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport * as actions from './actions'\nimport * as getters from './getters'\nimport state from './state'\nimport mutations from './mutations'\nimport createLogger from 'vuex/dist/logger'\n\nVue.use(Vuex)\nconst debug = process.env.NODE_ENV !== 'production'\n\nexport default new Vuex.Store({\n  actions,\n  getters,\n  state,\n  mutations,\n  strict: debug,\n  plugins: debug ? [createLogger()] : []\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","import router from './router'\nimport store from './store'\nimport {Message} from 'element-ui'\nimport {getToken} from './utils/auth'\n\nconsole.log(router)\nconst whiteList = ['/login', '/authredirect'] // 不重定向白名单\nrouter.beforeEach((to, form, next) => {\n  if (getToken()) {\n    store.dispatch('GetUserInfo').then(res => { // 拉取user_info\n      console.log(res)\n    }).catch(() => {\n      store.dispatch('FedLogOut').then(() => {\n        Message.error('验证失败,请重新登录')\n        next({path: '/login'})\n      })\n    })\n  } else {\n    if (whiteList.indexOf(to.path) !== -1) { // 在免登录白名单，直接进入\n      next()\n    } else {\n      next('/login') // 否则全部重定向到登录页\n    }\n  }\n  next()\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/permission.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport store from './store'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport 'common/stylus/index.styl'\nimport './permission'\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  store,\n  router,\n  template: '<App/>',\n  components: {App}\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}